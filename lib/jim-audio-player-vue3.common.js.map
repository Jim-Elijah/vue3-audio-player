{"version":3,"file":"jim-audio-player-vue3.common.js","mappings":"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","sources":["webpack://jim-audio-player-vue3/./node_modules/vue-loader/dist/exportHelper.js","webpack://jim-audio-player-vue3/webpack/bootstrap","webpack://jim-audio-player-vue3/webpack/runtime/define property getters","webpack://jim-audio-player-vue3/webpack/runtime/hasOwnProperty shorthand","webpack://jim-audio-player-vue3/webpack/runtime/make namespace object","webpack://jim-audio-player-vue3/webpack/runtime/publicPath","webpack://jim-audio-player-vue3/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://jim-audio-player-vue3/external commonjs2 {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://jim-audio-player-vue3/./packages/audio-player/src/index.vue","webpack://jim-audio-player-vue3/./packages/audio-player/src/index.vue?b0ed","webpack://jim-audio-player-vue3/./packages/audio-player/src/index.vue?e04a","webpack://jim-audio-player-vue3/./packages/audio-player/src/index.vue?a9ce","webpack://jim-audio-player-vue3/./packages/audio-player/index.js","webpack://jim-audio-player-vue3/./packages/index.js","webpack://jim-audio-player-vue3/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"vue\");","<template>\n  <div class=\"audio-player-box\">\n    <audio\n      @canplay=\"updateDuration\"\n      @ended=\"endedHandler\"\n      @timeupdate=\"updateTime\"\n      controls\n      ref=\"audioRef\"\n      style=\"display: none\"\n    >\n      <source :src=\"src\" />\n      您的浏览器不支持音频播放\n    </audio>\n    <slot\n      :currentTime=\"currentTime\"\n      :duration=\"duration\"\n      :isPlaying=\"isPlaying\"\n      :isMuted=\"isMuted\"\n      :noMusic=\"noMusic\"\n      :onProgressBarClick=\"progressBarClickHandler\"\n      :OnProgressMousedown=\"progressMousedownHandler\"\n      :onVolumeBarClick=\"volumeBarClickHandler\"\n      :togglePlay=\"togglePlay\"\n      :back=\"back\"\n      :forward=\"forward\"\n    >\n    </slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AudioPlayer',\n  props: {\n    src: {\n      type: String,\n      default: \"\",\n    },\n    forwardStep: {\n      type: Number,\n      default: 3,\n    },\n    backStep: {\n      type: Number,\n      default: 3,\n    },\n    // 静音门限\n    muteThreshold: {\n      type: Number,\n      default: 0.08,\n    },\n    currentRef: {\n      type: Object,\n      default: () => ({}),\n    },\n    progressBarRefName: {\n      type: String,\n      default: 'progressBarRef',\n    },\n    progressRefName: {\n      type: String,\n      default: 'progressRef',\n    },\n    volumeBarRefName: {\n      type: String,\n      default: 'volumeBarRef',\n    },\n    volumeRefName: {\n      type: String,\n      default: 'volumeRef',\n    },\n  },\n  data() {\n    return {\n      // 播放状态\n      isPlaying: false,\n      currentTime: \"00:00\",\n      duration: \"00:00\",\n      // 音量\n      audioVolume: 0.5,\n      //是否在拖动进度条\n      isMoving: false,\n      // 拖动进度条时保存播放状态\n      savedIsPlaying: false,\n    };\n  },\n  computed: {\n    isMuted() {\n      return this.audioVolume < this.muteThreshold;\n    },\n    audioRef() {\n      const { audioRef = {} } = this.currentRef.$refs || {}\n      return audioRef\n    },\n    noMusic() {\n      return this.duration === '00:00'\n    },\n    progressBarRef() {\n      return this.$parent.$refs[this.progressBarRefName] || {};\n    },\n    progressRef() {\n      return this.$parent.$refs[this.progressRefName] || {};\n    },\n    volumeBarRef() {\n      return this.$parent.$refs[this.volumeBarRefName] || {};\n    },\n    volumeRef() {\n      return this.$parent.$refs[this.volumeRefName] || {};\n    },\n  },\n  methods: {\n    updateDuration() {\n      const audioRef = this.audioRef;\n      this.duration = this.transTime(audioRef.duration);\n      audioRef.loop = false;\n      audioRef.volume = 0.5; // 设置音量50%\n      this.audioVolume = 0.5;\n    },\n    endedHandler() {\n      this.isPlaying = false;\n    },\n    // 播放暂停控制\n    togglePlay() {\n      if (this.noMusic) {\n        return\n      }\n      const audioRef = this.audioRef;\n      if (this.currentTime === this.duration) {\n        this.currentTime = \"00:00\";\n        audioRef.currentTime = 0;\n        this.progressBarRef.style.width = \"0%\";\n      }\n      if (!this.isPlaying) {\n        audioRef.play();\n        this.isPlaying = true;\n      } else {\n        audioRef.pause();\n        this.isPlaying = false;\n      }\n    },\n    // 回退\n    back() {\n      if (this.noMusic) return\n      const audioRef = this.audioRef;\n      let currentTime = audioRef.currentTime - this.backStep;\n      if (currentTime < 0) {\n        currentTime = 0;\n      }\n      audioRef.currentTime = currentTime;\n      this.currentTime = this.transTime(currentTime);\n    },\n    // 快进\n    forward() {\n      if (this.noMusic) return\n      const audioRef = this.audioRef;\n      let currentTime = audioRef.currentTime + this.forwardStep;\n      if (currentTime > audioRef.duration) {\n        currentTime = audioRef.duration;\n      }\n      audioRef.currentTime = currentTime;\n      this.currentTime = this.transTime(currentTime);\n    },\n    // 更新进度条与当前播放时间\n    updateTime() {\n      const audioRef = this.audioRef;\n      const value = audioRef.currentTime / audioRef.duration;\n      const progressRef = this.progressRef;\n      if (progressRef) {\n        progressRef.style.width = value * 100 + \"%\";\n        if (value === 1) {\n          this.isPlaying = false;\n        }\n      } else {\n        this.isPlaying = false;\n      }\n      this.currentTime = this.transTime(audioRef.currentTime);\n    },\n    // 音频播放时间换算, 秒转为字符串, eg: 70 => 01:10\n    transTime(time) {\n      var duration = parseInt(time);\n      var minute = parseInt(duration / 60);\n      var sec = (duration % 60) + \"\";\n      var isM0 = \":\";\n      if (minute === 0) {\n        minute = \"00\";\n      } else if (minute < 10) {\n        minute = \"0\" + minute;\n      }\n      if (sec.length === 1) {\n        sec = \"0\" + sec;\n      }\n      return minute + isM0 + sec;\n    },\n    updateProgress(offsetX) {\n      const progressBarRef = this.progressBarRef;\n      const progressRef = this.progressRef;\n      const audioRef = this.audioRef;\n\n      const clientWidth = progressBarRef.clientWidth;\n      // 只有音乐开始播放后才可以调节，已经播放过但暂停了的也可以\n      const ratio = offsetX / clientWidth;\n      const rate = ratio * 100;\n\n      // 设置进度条宽度\n      progressRef.style.width = rate + \"%\";\n      // 设置audio当前播放时刻\n      audioRef.currentTime = audioRef.duration * ratio;\n      // 设置播放时间\n      this.currentTime = this.transTime(audioRef.currentTime);\n    },\n    progressBarClickHandler(e) {\n      if (this.noMusic) return\n      if (!this.isMoving || this.isPlaying) {\n        this.updateProgress(e.offsetX);\n      }\n    },\n    volumeBarClickHandler(e) {\n      if (this.noMusic) return\n      const volumeBarRef = this.volumeBarRef;\n      const volumeRef = this.volumeRef;\n      const audioRef = this.audioRef;\n\n      const clientHeight = volumeBarRef.clientHeight;\n\n      // 只有音乐开始播放后才可以调节，已经播放过但暂停了的也可以\n      const ratio = e.offsetY / clientHeight;\n      const rate = ratio * 100;\n\n      // ratio小于muteThreshold时静音\n      const isMuted = ratio < this.muteThreshold;\n      const audioVolume = isMuted ? 0 : ratio;\n      // 设置音量进度条高度\n      volumeRef.style.height = !isMuted ? rate + \"%\" : \"0%\";\n      // 设置audio音量\n      audioRef.volume = audioVolume;\n      this.audioVolume = audioVolume;\n    },\n    progressMousedownHandler() {\n      if (this.noMusic) return\n      // 拖动前保存播放状态\n      this.savedIsPlaying = this.isPlaying;\n      this.audioRef.pause();\n      this.isPlaying = false;\n      this.isMoving = true;\n\n      const progressBarRef = this.progressBarRef;\n      //进度条 左 边距离页面左边的距离 移动最小值\n      let moveMin =\n        progressBarRef.offsetParent.offsetLeft + progressBarRef.offsetLeft;\n      //进度条 右 边距离页面左边的距离 移动最大值\n      let moveMax =\n        progressBarRef.offsetParent.offsetLeft +\n        progressBarRef.offsetLeft +\n        progressBarRef.clientWidth;\n\n      let move = (move) => {\n        if (move.pageX >= moveMax) {\n          return;\n        } else if (move.pageX <= moveMin) {\n          return;\n        }\n        this.updateProgress(move.pageX - moveMin);\n      };\n      //获取当前鼠标的位置\n      document.addEventListener(\"mousemove\", move, false);\n      //鼠标弹起来\n      document.addEventListener(\n        \"mouseup\",\n        () => {\n          setTimeout(() => {\n            this.isMoving = false;\n            if (this.savedIsPlaying) {\n              this.audioRef.play();\n              this.isPlaying = this.savedIsPlaying;\n              this.savedIsPlaying = !this.savedIsPlaying;\n            }\n          }, 200);\n          document.removeEventListener(\"mousemove\", move, false);\n        },\n        false\n      );\n    },\n  },\n};\n</script>","export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./index.vue?vue&type=template&id=133164a4\"","export { default } from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./index.vue?vue&type=script&lang=js\"; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./index.vue?vue&type=script&lang=js\"","import { render } from \"./index.vue?vue&type=template&id=133164a4\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"I:\\\\web-pro\\\\vue3-audio-player\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// src/index.js\n// 导入组件，组件必须声明 name\nimport AudioPlayer from './src/index'\n \n// 为组件提供 install 安装方法，供按需引入\nAudioPlayer.install = function (Vue) {\n Vue.component(AudioPlayer.name, AudioPlayer)\n}\n// 默认导出组件\nexport default AudioPlayer\n","// 导入组件\nimport AudioPlayer  from \"./audio-player/index.js\"\n\n// 存储组件列表\nconst components = [AudioPlayer];\n// 定义 install 方法，接收 Vue 作为参数。如果使用 use 注册插件，则所有的组件都将被注册\nconst install = function (Vue) {\n  // 判断是否安装\n  if (install.installed) return;\n  // 遍历注册全局组件\n  components.forEach(component => {\n    Vue.component(component.name, component)\n    Vue.config.globalProperties[component.name] = component.name + '1'\n  });\n};\n// // 判断是否是直接引入文件\nif (typeof window !== \"undefined\" && window.Vue) {\n  install(window.Vue);\n}\nexport default {\n  // 导出的对象必须具有 install，才能被 Vue.use() 方法安装\n  install,\n  // 以下是具体的组件列表\n  AudioPlayer,\n};\n","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":["class","_createElementBlock","_createElementVNode","onCanplay","$options","onEnded","onTimeupdate","controls","ref","style","src","$props","_hoisted_2","_hoisted_3","_renderSlot","_ctx","currentTime","$data","duration","isPlaying","isMuted","noMusic","onProgressBarClick","OnProgressMousedown","onVolumeBarClick","togglePlay","back","forward","name","props","type","String","default","forwardStep","Number","backStep","muteThreshold","currentRef","Object","progressBarRefName","progressRefName","volumeBarRefName","volumeRefName","data","audioVolume","isMoving","savedIsPlaying","computed","audioRef","$refs","progressBarRef","$parent","progressRef","volumeBarRef","volumeRef","methods","updateDuration","transTime","loop","volume","endedHandler","width","play","pause","updateTime","value","time","parseInt","minute","sec","isM0","length","updateProgress","offsetX","clientWidth","ratio","rate","progressBarClickHandler","e","volumeBarClickHandler","clientHeight","offsetY","height","progressMousedownHandler","moveMin","offsetParent","offsetLeft","moveMax","move","pageX","document","addEventListener","setTimeout","removeEventListener","AudioPlayer","install","Vue","component","components","installed","forEach","config","globalProperties","window"],"sourceRoot":""}